<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <body>
        <div th:fragment="vector_input(name,id,placeholder)" th:id="${id}" class="vector-input d-flex flex-wrap border rounded">
            <script src="/js/vector_input.js"></script>
            <script id="vector-entry-template" type="text/template">
                <div class="m-1 bg-secondary p-1 rounded vector-entry" id="{{id}}">
                    <span class="mx-2 vector-entry-text">{{text}}</span>
                    <button class="btn btn-secondary rounded" type="button" onclick="removeVectorEntry('{{id}}')"><i class="bi bi-x-circle-fill"></i></button>
                </div>
            </script>
            <div class="d-flex flex-row rounded bg-secondary p-1 m-1 text-input">
                <div th:text="${name}"></div>
                <input th:id="${id}+'Input'" type="text" class="form-control me-1" th:placeholder="${placeholder}"/>
                <button class="btn btn-secondary rounded" type="button" onclick="addVectorEntry(this);">
                    <i class="bi bi-plus-circle-fill"></i>
                </button>
                <!--
                <select id="game-name-w" class="form-select" aria-label="Game Name">
                    <option value="" disabled selected>Type</option>
                    <option value="date">Date("yyyy-mm-dd")</option>
                    <option value="number">Number</option>
                    <option value="string">String</option>
                </select>
                -->
                <script th:inline="javascript">
                    /*<![CDATA[*/
                    setupVectorInput(/*[[${id}]]*/ 'defaultId');
                    /*]]>*/
                </script>
            </div>
        </div>

        <div th:id="${id}" th:fragment="stats(id)" class="w-100">
            <script id="graph-stat-template" type="text/template">
                <div class="card shadow graph-stat stat">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{stat.name}}</h5>
                        <div class="stat-chart-container position-relative">
                            <canvas id="{{stat.name}}-graph"></canvas>
                        </div>
                    </div>
                </div>
            </script>
            <script id="tag-stat-template" type="text/template">
                <div class="card shadow tag-stat stat">
                    {{#if stat.img_url}}
                    <img class="card-img-top" src="{{stat.img_url}}" alt="{{stat.value}} image">
                    {{/if}}
                    <div class="card-body">
                        <h5 class="card-title">{{stat.name}}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">{{stat.value}}</h6>
                    </div>
                </div>
            </script>
            <div id="stats-container" class="w-100">
            </div>
        </div>

        <div th:fragment="new_attributes_input()" th:id="NewAttributes" class="vector-input d-flex flex-wrap border rounded">
            <script src="/js/vector_input.js"></script>
            <script id="vector-entry-template1" type="text/template">
                <div class="m-1 bg-secondary p-1 rounded vector-entry" id="{{idNew}}">
                    <span class="mx-2 vector-entry-text">{{name}}</span>
                    <span class="mx-2 vector-entry-text" id = "NewValue{{idNew}}">{{value}}</span>
                    <button class="btn btn-secondary rounded" type="button" onclick="removeVectorEntry('{{idNew}}')"><i
                            class="bi bi-x-circle-fill"></i></button>
                </div>
            </script>
            <div class="d-flex flex-row rounded bg-secondary p-1 m-1 text-input">
                <div th:text="${name}"></div>
                <input th:id="AttributeNameInput" type="text" class="form-control me-1" placeholder="Attribute Name"/>
                <input th:id="AttributeValueInput" type="text" class="form-control me-1" placeholder="Attribute Value"/>
                <button class="btn btn-secondary rounded" type="button" onclick="addNewVectorEntry(this);">
                    <i class="bi bi-plus-circle-fill"></i>
                </button>
                <script th:inline="javascript">
                    /*<![CDATA[*/
                    setupVectorInput(/*[[${id}]]*/ 'defaultId');
                    /*]]>*/

                </script>
            </div>
        </div>
    </body>
</html>