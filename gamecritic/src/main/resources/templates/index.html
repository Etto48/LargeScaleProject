<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" data-bs-theme="dark">
    <head>
        <meta th:replace="~{fragments/general.html :: head}"/>
        <title>GameCritic - Homepage</title>
        <link rel="stylesheet" href="/css/index.css">
        <script src="/js/index.js"></script>
    </head>
    <body class="d-flex flex-column h-100">
        <header th:replace="~{fragments/general.html :: header}"></header>
        <nav class="d-flex flex-column pt-2 pb-4">
            <ul class="nav nav-pills flex-row justify-content-center mx-auto" id="nav">
                <li><button class="kind-selector btn btn-dark" disabled id="hottest" onclick="setKind('hottest')">
                    <i class="bi bi-fire me-2"></i>Hottest</button></li>
                <li><button class="kind-selector btn btn-dark" id="newest" onclick="setKind('newest')">
                    <i class="bi bi-asterisk me-2"></i>Newest</button></li>
                <li><button class="kind-selector btn btn-dark" id="best" onclick="setKind('best')">
                    <i class="bi bi-bar-chart-line-fill me-2"></i>Best</button></li>
            </ul>
            <hr class="mt-0 mx-3">
        </nav>
        <main class="container flex-column" id="main">
            <script id="game-template" type="text/template">
                <article>
                    <a class="card flex-md-row mb-4 h-md-250 shadow light-overlay-on-hover" href="{{{href}}}">
                        <img src="{{game.img}}" class="card-img-left rounded" alt="Game Image">
                        <div class="card-body d-flex align-items-end flex-column">
                            <div>
                                <h2>{{game.name}}</h2>
                                <p>{{game.description}}</p>
                            </div>
                            <div class="mt-auto">
                                <div th:replace="~{fragments/score.html :: score_big_js}"></div>
                            </div>
                        </div>
                    </a>
                </article>
            </script>
            <script id="suggestions-template" type="text/template">
                <div class="mb-4 gap-3 user-suggestion-container">
                    {{#each users}}
                    <a class="card shadow user-suggestion" href="{{url}}">
                        <div class="card-body">
                            <img src="{{img}}" class="rounded-circle mb-2" alt="User Image">
                            <h3 class="fs-2">{{username}}</h3>
                        </div>
                    </a>
                    {{/each}}
                </div>
            </script>
            <article id="dummy-loading-game">
                <div class="card flex-md-row mb-4 shadow">
                    <div class="img loading card-img-left rounded"></div>
                    <div class="card-body d-flex align-items-end flex-column">
                        <div class="w-100">
                            <h2 class="loading" style="width: 100%; height: 40px; border-radius: 5px;"></h2>
                            <p class="loading" style="width: 100%; height: 100px; border-radius: 5px;"></p>
                        </div>
                        <div class="mt-auto">
                            <div th:replace="~{fragments/score.html :: score_big_empty}"></div>
                        </div>
                    </div>
                </div>
            </article>
        </main>
        <div th:replace="~{fragments/general.html :: go_to_top}"></div>
    </body>
</html>