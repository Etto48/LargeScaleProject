<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <body>
        <div th:fragment="vector_input(id,placeholder)" th:id="${id}" class="vector-input d-flex flex-wrap border rounded">
            <script src="/js/vector_input.js"></script>
            <script id="vector-entry-template" type="text/template">
                <div class="m-1 bg-secondary p-1 rounded vector-entry" id="{{id}}">
                    <span class="mx-2 vector-entry-text">{{text}}</span>
                    <button class="btn btn-secondary rounded" type="button" onclick="removeVectorEntry('{{id}}')"><i class="bi bi-x-circle-fill"></i></button>
                </div>
            </script>
            <div class="d-flex flex-row rounded bg-secondary p-1 m-1 text-input">
                <input type="text" class="form-control me-1" th:placeholder="${placeholder}"/>
                <button class="btn btn-secondary rounded" type="button" onclick="addVectorEntry(this);">
                    <i class="bi bi-plus-circle-fill"></i>
                </button>
                <script th:inline="javascript">
                    /*<![CDATA[*/
                    setupVectorInput(/*[[${id}]]*/ 'defaultId');
                    /*]]>*/
                </script>
            </div>
        </div>

        <div th:id="${id}" th:fragment="stats(id)" class="w-100">
            <script id="graph-stat-template" type="text/template">
                <div class="card shadow graph-stat stat">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{stat.name}}</h5>
                        <div class="stat-chart-container position-relative">
                            <canvas id="{{stat.name}}-graph"></canvas>
                        <div>
                    </div>
                </div>
            </script>
            <script id="tag-stat-template" type="text/template">
                <div class="card shadow tag-stat stat">
                    {{#if stat.img_url}}
                    <img class="card-img-top" src="{{stat.img_url}}" alt="{{stat.value}} image">
                    {{/if}}
                    <div class="card-body">
                        <h5 class="card-title">{{stat.name}}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">{{stat.value}}</h6>
                    </div>
                </div>
            </script>
            <div id="stats-container" class="gap-3 w-100">
            </div>
        </div>
    </body>
</html>